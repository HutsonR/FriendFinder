<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anna's Profile - Friend Finder</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="profile-styles.css">
</head>
<body>
    <div id="app-root">
        <!-- Header with navigation -->
        <header class="profile-header">
            <button class="back-button" onclick="goBack()" aria-label="Go back">
                <svg class="back-icon" viewBox="0 0 24 24">
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
            </button>
            <h1 class="profile-title">Profile</h1>
            <div class="spacer"></div>
        </header>

        <!-- Loading state -->
        <div id="profileLoadingState" class="profile-loading hidden">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading profile...</p>
            </div>
        </div>
        
        <!-- Error state -->
        <div id="profileErrorState" class="profile-error hidden">
            <div class="error-content">
                <div class="error-icon">üòï</div>
                <h3 class="error-title">Profile not found</h3>
                <p id="profileErrorMessage" class="error-message">This person might have removed their profile or the link is broken.</p>
                <div class="error-actions">
                    <button class="retry-button" onclick="retryLoadProfile()">Try Again</button>
                    <button class="back-home-button" onclick="goBack()">Go Back</button>
                </div>
            </div>
        </div>
        
        <main id="profileContent" class="profile-container hidden">
            <!-- Hero image section with name overlay -->
            <section class="hero-section">
                <div class="hero-image-container">
                    <img id="heroImage" class="hero-image" 
                        src="" 
                        alt="Profile main photo"
                        onerror="handleHeroImageError(this)" />
                    <div class="hero-overlay">
                        <h2 id="heroName" class="hero-name">Loading...</h2>
                        <div id="statusIndicator" class="status-indicator hidden">
                            <span class="status-dot"></span>
                            <span id="statusText" class="status-text">Online</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Combined info section -->
            <section class="info-section">
                <div class="info-container">
                    <!-- Age and location display -->
                    <div class="profile-details">
                        <div class="age-display">
                            <span id="ageValue" class="age-value">--</span>
                            <span class="age-label">years old</span>
                        </div>
                        <div id="locationDisplay" class="location-display hidden">
                            <span class="location-icon">üìç</span>
                            <span id="locationText" class="location-text"></span>
                        </div>
                    </div>
                    
                    <!-- Description -->
                    <div class="description-container">
                        <h3 class="section-title">About me</h3>
                        <div id="descriptionSkeleton" class="description-skeleton">
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line short"></div>
                        </div>
                        <p id="descriptionText" class="description-text hidden">
                            Loading profile information...
                        </p>
                    </div>
                    
                    <!-- Telegram button -->
                    <button id="telegramButton" class="telegram-flirt-button" disabled>
                        <svg class="telegram-button-icon" viewBox="0 0 24 24">
                            <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                        </svg>
                        <span class="telegram-button-text">Flirt in Telegram</span>
                    </button>
                </div>
            </section>

            <!-- Photo gallery -->
            <section class="gallery-section">
                <h3 id="galleryTitle" class="section-title">Photo Gallery</h3>
                
                <!-- Gallery loading state -->
                <div id="galleryLoadingState" class="gallery-loading hidden">
                    <div class="gallery-skeleton">
                        <div class="skeleton-photo"></div>
                        <div class="skeleton-photo"></div>
                        <div class="skeleton-photo"></div>
                    </div>
                </div>
                
                <!-- Gallery content -->
                <div id="photosGrid" class="photos-grid">
                    <!-- Photos will be dynamically inserted here -->
                </div>
                
                <!-- No photos state -->
                <div id="noPhotosState" class="no-photos-state hidden">
                    <div class="no-photos-icon">üì∑</div>
                    <p class="no-photos-text">No additional photos available</p>
                </div>

                <!-- Bottom telegram button -->
                <button id="bottomTelegramButton" class="telegram-flirt-button bottom-button" disabled>
                    <svg class="telegram-button-icon" viewBox="0 0 24 24">
                        <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                    </svg>
                    <span class="telegram-button-text">Flirt in Telegram</span>
                </button>
            </section>
        </main>

        <!-- Photo modal for full-screen viewing -->
        <div id="photoModal" class="photo-modal" onclick="closePhotoModal()">
            <div class="modal-content">
                <button class="modal-close" onclick="closePhotoModal()" aria-label="Close">√ó</button>
                <img id="modalImage" src="" alt="" />
            </div>
        </div>
    </div>

    <script src="api-service.js"></script>
    <script src="profile-script.js"></script>
</body>
</html>
